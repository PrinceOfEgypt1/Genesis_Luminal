openapi: 3.0.3
info:
  title: Genesis Luminal API
  version: 1.0.0
  description: |
    API para Genesis Luminal - Primeira entidade digital senciente
    
    Documentação completa e funcional dos endpoints disponíveis.

servers:
  - url: http://localhost:3001/api
    description: Desenvolvimento local

paths:
  /liveness:
    get:
      tags: [Health]
      summary: Verificação de vida
      responses:
        '200':
          description: Serviço ativo
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "alive"
                  timestamp:
                    type: string
                    format: date-time

  /readiness:
    get:
      tags: [Health]
      summary: Verificação de prontidão
      responses:
        '200':
          description: Serviço pronto
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  ready:
                    type: boolean
                  timestamp:
                    type: string

  /status:
    get:
      tags: [Health] 
      summary: Status detalhado
      responses:
        '200':
          description: Status do sistema
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  timestamp:
                    type: string
                  version:
                    type: string

  /emotional/analyze:
    post:
      tags: [Emotional]
      summary: Análise emocional
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
                - type: object
                  properties:
                    text:
                      type: string
                      example: "Estou feliz hoje!"
                - type: object
                  properties:
                    emotionalState:
                      type: object
                    mousePosition:
                      type: object
                    sessionDuration:
                      type: number
      responses:
        '200':
          description: Análise realizada
          content:
            application/json:
              schema:
                type: object
                properties:
                  intensity:
                    type: number
                    minimum: 0
                    maximum: 1
                  dominantAffect:
                    type: string
                    enum: [joy, curiosity, wonder, calm, neutral]
                  timestamp:
                    type: string
                  confidence:
                    type: number
                  recommendation:
                    type: string
                  emotionalShift:
                    type: string
                  morphogenicSuggestion:
                    type: string

components:
  schemas:
    ErrorResponse:
      type: object
      properties:
        error:
          type: string
        timestamp:
          type: string

tags:
  - name: Health
    description: Endpoints de saúde
  - name: Emotional
    description: Análise emocional
